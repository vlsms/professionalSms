"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseFax_1 = require("./BaseFax");
const relay_1 = require("../../../util/constants/relay");
class FaxSend extends BaseFax_1.BaseFax {
    constructor(call, _document, _identity = null, _header = null) {
        super(call);
        this.call = call;
        this._document = _document;
        this._identity = _identity;
        this._header = _header;
        this.method = relay_1.CallMethod.SendFax;
    }
    get payload() {
        const payload = {
            node_id: this.call.nodeId,
            call_id: this.call.id,
            control_id: this.controlId,
            document: this._document
        };
        if (this._identity) {
            payload.identity = this._identity;
        }
        if (this._header) {
            payload.header_info = this._header;
        }
        return payload;
    }
}
exports.FaxSend = FaxSend;
